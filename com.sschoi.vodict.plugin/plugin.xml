<?xml version="1.0" encoding="UTF-8"?>
<plugin
   id="com.sschoi.vodict.plugin"
   name="VO Dictionary Plugin"
   version="1.0.0"
   provider-name="sschoi"
   class="com.sschoi.vodict.plugin.Activator">

    <!-- ✅ VO Builder 등록 -->
    <extension
          id="vobuilder"
          name="VO Builder"
          point="org.eclipse.core.resources.builders">
        <builder>
            <run class="com.sschoi.vodict.plugin.builder.VOBuilder"/>
        </builder>
    </extension>

    <!-- ✅ VO Nature 등록 -->
    <extension
          id="vonature"
          name="VO Nature"
          point="org.eclipse.core.resources.natures">
        <runtime>
            <run class="com.sschoi.vodict.plugin.builder.VONature"/>
        </runtime>
        <requires-nature id="org.eclipse.jdt.core.javanature"/>
        <builder id="com.sschoi.vodict.plugin.vobuilder"/>
    </extension>

    <!-- ✅ Marker 정의 -->
    <extension
          id="voProblemMarker"
          name="VO Dictionary Problem Marker"
          point="org.eclipse.core.resources.markers">
        <super type="org.eclipse.core.resources.problemmarker"/>
        <persistent value="true"/>
    </extension>

    <!-- ✅ Quick Fix Processor -->
    <extension
          id="voQuickFix"
          point="org.eclipse.jdt.ui.quickFixProcessors">
        <processor
              id="com.sschoi.vodict.plugin.quickfixprocessor"
              class="com.sschoi.vodict.plugin.quickfix.QuickFixProcessor"/>
    </extension>

    <!-- ✅ Content Assist -->
    <extension
	      id="voContentAssist"
	      point="org.eclipse.jdt.ui.javaCompletionProposalComputer">
	   <computer
	       id="com.sschoi.vodict.plugin.contentassist"
	       name="VO Dictionary Content Assist"
	       description="사전(dictionary.json)에 등록된 단어를 기반으로 Java 코드 자동완성 제안"
	       class="com.sschoi.vodict.plugin.contentassist.DictionaryCompletionProposalComputer"
	       categoryId="org.eclipse.jdt.ui.defaultProposalCategory"
	       allowsMixing="true">
	   </computer>
	</extension>

    <!-- ✅ Add VO Nature 메뉴 -->
    <extension point="org.eclipse.ui.commands">
        <command
            id="com.sschoi.vodict.plugin.commands.addNature"
            name="Add VO Nature"
            description="Adds the VO Dictionary nature to the selected project"/>
    </extension>

    <extension point="org.eclipse.ui.handlers">
        <handler
            commandId="com.sschoi.vodict.plugin.commands.addNature"
            class="com.sschoi.vodict.plugin.commands.AddVONatureHandler"/>
    </extension>

    <extension point="org.eclipse.ui.menus">
        <menuContribution
            locationURI="popup:org.eclipse.ui.projectConfigure?after=additions">
            <command
                commandId="com.sschoi.vodict.plugin.commands.addNature"
                label="Add VO Nature"
                style="push"/>
        </menuContribution>
    </extension>
</plugin>
